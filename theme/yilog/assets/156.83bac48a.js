(self.webpackChunkyilog=self.webpackChunkyilog||[]).push([[156],{3219:(e,t,n)=>{var o,l,i=n(4951).default;n(6634),n(5455),n(4253),o=[n,t,n(5285),n(7201),n(7201),n(7201),n(1401),n(1712),n(2631)],l=function(e,t,n,o,l,r,a,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u=n.__importDefault(u),c=n.__importDefault(c);var d={class:"mt-8"},s=["textContent"],f={class:"flex w-full cursor-default flex-col items-center gap-0.5"},m=["textContent"],p=["textContent"],v=["textContent"],y=["textContent"],x=["href","textContent"],k={class:"absolute inset-0 my-2 flex flex-col items-center justify-end bg-white"},b={class:"text-center text-sm"},w={key:3,class:"tr-qrcode"},g=[(0,l.createElementVNode)("div",null,null,-1)];t.default=(0,o.defineComponent)({__name:"DownloadItem",props:{item:{type:Object,required:!0}},setup:function(e){var t=e,n=(0,r.ref)(),o=(0,r.ref)(),C=(0,r.ref)(),B=(0,r.ref)(0),h=null;(0,r.watch)([o,C],(function(){o.value&&C.value&&(h||(0,r.nextTick)((function(){o.value&&C.value&&(h=(0,a.createPopper)(o.value,C.value,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,4]}}]}))})))}),{immediate:!0}),(0,r.onUnmounted)((function(){null==h||h.destroy(),h=null}));var S=(0,r.computed)((function(){return t.item.downloadSource.length>1})),D=function(e){setTimeout((function(){B.value===e&&(B.value=0)}),300)},_=function(e){S.value&&(!O&&t.item.forMobile||(B.value=e,(0,r.nextTick)((function(){null==h||h.update()}))))},E=(0,r.computed)((function(){return t.item.downloadSource[0].url||""})),N=function(){S.value||E.value&&(window.location.href=E.value)};(0,r.watch)([n,E],(function(e){var t=i(e,2),n=t[0],o=t[1];n&&o&&u.default.toCanvas(n,o,{width:164,scale:4,margin:2}).catch((function(e){console.error(e)}))}),{immediate:!0});var V=(0,r.ref)(!1),T=new c.default,M=T.getDevice().type||"";console.log("device",T.getDevice());var O=M&&["mobile","tablet"].includes(M),j=function(){t.item.forMobile&&(O||(V.value=!0))},H=function(){V.value=!1},q=(0,r.computed)((function(){return t.item.forMobile&&(O?t.item.mobileButtonText:t.item.buttonText)||t.item.buttonText}));return function(t,i){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["relative flex h-56 w-56 flex-col items-center justify-center gap-2 rounded-[0.5rem] border-2 border-blue-200",{"mb-12":e.item.invalidationHelp}]),onMouseenter:j,onMouseleave:H},[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)(["inline-block text-[64px] text-[#5c7eff]",e.item.icon])},null,2)]),e.item.title?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,class:"text-lg font-medium",textContent:(0,l.toDisplayString)(e.item.title)},null,8,s)):(0,l.createCommentVNode)("v-if",!0),(0,l.createElementVNode)("div",f,[!q.value||e.item.onlyDesktop&&(0,l.unref)(O)?e.item.invalidationTips?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:1,class:"text-gray-500",textContent:(0,l.toDisplayString)(e.item.invalidationTips)},null,8,p)):(0,l.createCommentVNode)("v-if",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,ref_key:"elAction",ref:o,class:"w-2/3 rounded bg-blue-500 py-1.5 text-center text-white",textContent:(0,l.toDisplayString)(q.value),onMouseenter:i[0]||(i[0]=function(e){return _(1)}),onMouseleave:i[1]||(i[1]=function(e){return D(1)}),onClick:N},null,40,m)),(0,l.createElementVNode)("div",{class:"text-sm text-gray-400",textContent:(0,l.toDisplayString)(e.item.version)},null,8,v)]),(0,l.createCommentVNode)(" \u5e95\u90e8\u5e2e\u52a9 "),e.item.onlyDesktop&&(0,l.unref)(O)&&e.item.invalidationHelp?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:1,class:"absolute inset-x-0 top-full mt-2 w-full text-center text-gray-500",textContent:(0,l.toDisplayString)(e.item.invalidationHelp)},null,8,y)):(0,l.createCommentVNode)("v-if",!0),(0,l.createCommentVNode)(" \u591a\u94fe\u63a5\u4e0b\u8f7d\u83dc\u5355 "),e.item.downloadSource.length>1?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:2,ref_key:"elPopup",ref:C,class:"absolute inset-x-0 z-10 rounded border bg-white py-2 shadow",onMouseenter:i[2]||(i[2]=function(e){return _(2)}),onMouseleave:i[3]||(i[3]=function(e){return D(2)})},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.item.downloadSource,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"px-3 py-1.5",key:e.caption},[(0,l.createElementVNode)("a",{href:e.url,textContent:(0,l.toDisplayString)(e.caption)},null,8,x)])})),128))],544)),[[l.vShow,B.value]]):(0,l.createCommentVNode)("v-if",!0),(0,l.createCommentVNode)(" qr "),(0,l.withDirectives)((0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("canvas",{class:"",ref_key:"elQr",ref:n},null,512),(0,l.createElementVNode)("div",b,(0,l.toDisplayString)(t.$t("download:scan_qrcode_to_download")),1)],512),[[l.vShow,V.value]]),(0,l.createCommentVNode)(" \u53f3\u4e0a\u89d2\u4e8c\u7ef4\u7801 "),e.item.forMobile&&!(0,l.unref)(O)?((0,l.openBlock)(),(0,l.createElementBlock)("div",w,g)):(0,l.createCommentVNode)("v-if",!0)],34)}}})}.apply(t,o),void 0===l||(e.exports=l)},3096:(e,t,n)=>{var o,l;n(7483),n(2954),n(212),n(5680),n(9298),n(4316),n(5455),n(9718),n(7585),o=[n,t,n(5285),n(7201),n(7201),n(7201),n(9621),n(5216)],l=function(e,t,n,o,l,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),t.default=(0,o.defineComponent)({__name:"DownloadWidget",props:{source:{type:String,required:!0},icon:{type:String,default:"icon-[ant-design--appstore-filled]"},title:{type:String,default:""},buttonText:{type:String,default:""},invalidationTips:{type:String,default:""},invalidationHelp:{type:String,default:""},forMobile:{type:Boolean,default:!1},mobileButtonText:{type:String,default:""},onlyDesktop:{type:Boolean,default:!1}},setup:function(e){var t=e,n=(0,a.useTranslation)("download").t("chipset"),o=[{key:"windows-x64",title:"Windows"},{key:"darwin-x64",title:"macOS (Intel ".concat(n,")")},{key:"darwin-aarch64",title:"macOS (Apple ".concat(n,")")},{key:"android-universial",title:"Android"}],u=(0,i.computed)((function(){var e=window[t.source],n=Object.keys(e.platforms).reduce((function(t,n){var l=o.find((function(e){return e.key===n}));if(!l)return t;var i=e.platforms[n],r={caption:l.title,url:i.url};return t.push(r),t}),[]),l=o.map((function(e){return e.title}));return n.sort((function(e,t){return l.indexOf(e.caption)-l.indexOf(t.caption)})),{version:e.version,downloadSource:n,icon:t.icon,title:t.title,buttonText:t.buttonText,invalidationTips:t.invalidationTips,invalidationHelp:t.invalidationHelp,forMobile:t.forMobile,mobileButtonText:t.mobileButtonText,onlyDesktop:t.onlyDesktop}}));return function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(r.default,{item:u.value},null,8,["item"])])}}})}.apply(t,o),void 0===l||(e.exports=l)},9621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(6853),l={};for(const e in o)"default"!==e&&(l[e]=()=>o[e]);n.d(t,l);const i=o.default},8156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(3058),l={};for(const e in o)"default"!==e&&(l[e]=()=>o[e]);n.d(t,l);const i=o.default},6853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l.a});var o=n(3219),l=n.n(o),i={};for(const e in o)"default"!==e&&(i[e]=()=>o[e]);n.d(t,i)},3058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l.a});var o=n(3096),l=n.n(o),i={};for(const e in o)"default"!==e&&(i[e]=()=>o[e]);n.d(t,i)}}]);